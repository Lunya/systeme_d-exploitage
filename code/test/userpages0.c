#include "syscall.h"

/*
 * Ce programme, qui permet de tester la gestion des threads,
 * et donc, la création ainsi que la destruction de multiples threads.
 * Il permet de tester nottament le bon déroulement du programme
 * si les threads terminent après le thread principal ainsi
 * que l'éxécution d'un très grand nombre de threads.
 * Une fonction "utilisateur" a été crée pour éviter de repréciser
 * ThreadExit dans chaque ThreadCreate (pour éviter de mettre ThreadExit
 * dans chaque fonction).
 */

void user_ThreadCreate(void f(void *arg), void *arg) {
	ThreadCreate(f, arg, ThreadExit);
}

void thread(int i) {
	PutString("Je suis un entier : ");
	PutInt(i);
	PutChar('\n');
}

int
main()
{
	int i = 0;
	user_ThreadCreate(thread, 554);
	PutChar('u');
	PutString("yololo\n");

}
